<script>
function toggleSubMenu(menu) {
    document.querySelectorAll(".submenu").forEach(sub => {
        if (sub.id === "submenu-" + menu) {
            sub.style.display = sub.style.display === "block" ? "none" : "block";
        } else {
            sub.style.display = "none";
        }
    });
}

function copyFormData() {
    // ===== NOVA ORDEM PERSONALIZADA =====
    const order = [
        "nome",          // TEC
        "relato",        // CLIENTE
        "feito",         // PROBLEMA
        "teste",         // TESTES FEITOS
        "notaWifi",      // NOTA DO WIFI
        "caso",          // OUTROS PROBLEMAS RELATADOS
        "Sugestões",     // SUGESTÃO DO CENTRO DE SOLUÇÕES
        "emenda",        // EMENDA
        "endereco",      // CONFIRMADO ENDEREÇO
        "REFERENCIA",    // PONTO DE REFERENCIA
        "cor",           // COR/MATERIAL DA CASA
        "fachada",       // FACHADA DA CASA
        "ciente",        // CLIENTE ESTA CIENTES DE POSSIVEIS COBRAÇAS
        "agendamento",   // INFORMAÇÕES AO AGENDAMENTO
        "protocolo"      // PROTOCOLO
    ];

    let formData = "";

    order.forEach(id => {
        let label = "";
        let value = "";

        // Captura o campo pelo id ou pelo grupo relacionado
        const input = document.getElementById(id);

        if (input) {
            // Captura o label associado (se houver)
            const labelElement = input.closest(".form-group")?.querySelector("label");
            label = labelElement ? labelElement.textContent.trim() : id.toUpperCase();

            // Captura valor
            value = input.value ? input.value.toLowerCase() : "";
        } 
        else if (id === "emenda" || id === "endereco") {
            // Campos do tipo radio
            const selected = document.querySelector(`input[name='${id}']:checked`);
            label = id === "emenda" ? "Foi feita emenda no drop do cliente?" : "Confirmado endereço";
            value = selected ? selected.value.toLowerCase() : "não informado";
        }

        formData += `${label}\n${value}\n\n`;
    });

    // Copia para a área de transferência
    navigator.clipboard.writeText(formData)
        .then(() => alert("Copiado com sucesso em minúsculas na ordem correta!"))
        .catch(() => alert("Erro ao copiar."));
}
